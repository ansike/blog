---
title: 常用测试语法
---

## 文件测试语法
## 字符串测试语法
## 整数二元比较操作符
## 逻辑操作符

### 文件测试语法
1. -d 判断是目录
1. -f 判断是文件
1. -e 判断目录或者文件存在
1. -r 判断文件可读
1. -s 判断文件大小不为0为真
1. -x 判断文件可执行
1. -w 判断文件可写
1. -L 文件存在且链接文件为真
1. f1 -nt f2  f1比f2新则为真
1. f1 -ot f2  f1比f2旧则为真

- 1和2是等价的
- [[]]为test拓展的命令，常用语通配符进行模式匹配。&&,||,>,<可以使用
- (())常用语计算

##### 
``` shell
[ -d public ] && echo 1
[ -s package.json ] && echo 1

#  不存在的变量必须加引号包裹
[ -f $a ] && echo 1 || echo 0 # 1
[ -f "$a" ] && echo 1 || echo 0 # 0
```

### 字符串测试语法
1. -n "字符串" 判断字符串长度不为0为真
1. -z "字符串" 判断字符串长度为0为真
1. "字符串1" = "字符串2" 相等为真
1. "字符串1" != "字符串2" 不等为真

- 字符串测试时必须加引号，不加很有可能发生语法没问题，但是逻辑结果和预期的不一致

##### 
``` shell
[ "a" = "a" ] && echo 1 || echo 0 
[ "a" = "b" ] && echo 1 || echo 0 
```


### 整数二元比较操作符
1. -eq 相等在test和[]中是这样，在[[]]和(())是 ==或者=
1. -ne 不等在test和[]中是这样，在[[]]和(())是 !=
1. -gt 大于在test和[]中是这样，在[[]]和(())是 >
1. -lt 小于在test和[]中是这样，在[[]]和(())是 <
1. -ge 大于等于在test和[]中是这样，在[[]]和(())是 >=
1. -le 小于等于在test和[]中是这样，在[[]]和(())是 <=

- []也可以使用=, !=。注意使用<,>时使用转义字符

##### 
``` shell
# 尽量按照上诉规则
[ 1 -gt 2 ] && echo 1 || echo 0 # 0
# [ 1 > 2 ] && echo 1 || echo 0 # 1
```

### 逻辑操作符
1. -a 相等在test和[]中是这样，在[[]]和(())是 &&
1. -o 相等在test和[]中是这样，在[[]]和(())是 ||
1. ! 相等在test和[]中是这样，在[[]]和(())是 !

- []也可以使用=, !=。注意使用<,>时使用转义字符

##### 
``` shell
[[ -z "file" && -z "" ]] && echo 1 || echo 0
```
