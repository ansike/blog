---
title: BTC-协议
categories: 编程
tags:
  - web3
  - BTC
date: 2022-12-26 17:00:54
---

本系列开始区块链的学习，主要内容为B站上[北京大学肖臻老师《区块链技术与应用》公开课](https://www.bilibili.com/video/BV1Vt411X7JF?p=1&vd_source=22653c02dfbe0c9c7bb4a200eb87fe4e)

### 央行如何发行数字货币？
1. 数字货币设置唯一标识
2. 记录一下货币的持有人，避免double spending attack

数字货币和纸质货币的区别：数字货币是可以复制的。**因为数字货币本质是文件**，付款方可以把数字货币复制多份。

但是这样看来还是中心化的系统，去中心化的系统怎么实现呢，以下就是本节讨论的问题。

### 数字货币发行需要解决两个问题：
1. 谁有权利发行。
2. 怎么验证交易的有效性。避免double spending attack

### 区块的拥有者

block reward 是唯一产生新币的途径

每21万个区块减少一半的BTC，现在挖到一个区块能得倒12.5个BTC（2022年）
50 BTC => 25 BTC => 12.5BTC


### 验证交易的有效性
使用区块链（block chain）。
block chain上有两类hash point
- block之间的指针
- 币来源的指针

发起交易时A向B转账有几个问题
1. A需要知道B的什么信息？ 需要知道B的地址
2. B需要知道A的什么信息？ 需要知道A的公钥，用作转账之后的验证。
3. 如何验证是A发起的交易？ B可以根据币的来源指向A确认。
4. 如何将交易信息写入区块链？ 账本的内容需要取得分布式共识。

> CAP 定理：一致性（Consistency），可用性（Availability），分区容错性（Partition tolerance）。三个要素同时最多能实现两点，不可能同时满足。

consensus in bitcoin 比特币协议共识：power 工作量证明
比特币体系的解决方案：算力投票制度

出现分叉攻击时 block chain认为最长的链是合法的链
同时挖到矿出现两个等长区块时，接受哪个？
维持一段时间看哪个区块有后续的区块，即说明接受了哪个。

