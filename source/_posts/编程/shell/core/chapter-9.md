---
title: 进程管理命令
categories: 编程
tags: shell
date: 2022-07-10 22:49:44
---

<a href="#ps">1. ps 查看进程</a>
<a href="#pstree">2. pstree 显示进程状态树 </a>
<a href="#kill">3. kill 终止进程 </a>
<a href="#killall">4. killall，pkill 通过进程名终止进程 </a>
<a href="#top">5. top 实时显示系统中各个进程的资源占用状况 </a>
<a href="#nohup">6. nohup 用户退出系统进程继续工作 </a>

<h3 id="ps">1. ps 查看进程</h3>

查看某个时刻的进程快照

语法: ps [option]

| 参数 | 说明                                         | 参数 | 说明                        |
| ---- | -------------------------------------------- | ---- | --------------------------- |
| -a   | 显示所有终端下执行的基础                     | u    | 显示进程的用户信息          |
| a    | 显示与终端相关的所有进出，包括进程的完整路径 | -u   | 显示指定用户相关的进程信息  |
| x    | 显示与终端无关的所有进出                     | f    | 显示进程树                  |
| -e   | 显示所有进程                                 | -f   | 额外显示 UID，PID，C，STIME |
| -l   | 以详细的格式显示进程的状况                   |      |                             |

```shell
# 默认输出使用者当前所在终端（窗口）的进程
ps
#     PID TTY          TIME CMD
# 3064762 pts/4    00:00:00 sudo
# 3064766 pts/4    00:00:00 zsh
```

PID:进程标识号
TTY:进程所属终端控制台
TIME:进程所使用总的 CPU 时间
CMD:正在执行的命令行

```shell
# 查找特定的进程
ps -ef | grep ssh
#     PID TTY          TIME CMD
# 3064762 pts/4    00:00:00 sudo
# 3064766 pts/4    00:00:00 zsh
```

<h3 id="pstree">2. pstree 显示进程状态树 </h3>

语法: pstree [option] [<PID>/<user>]

<h3 id="kill">3. kill 终止进程 </h3>

语法: kill [option] [PID]

| 参数 | 说明                                                   |
| ---- | ------------------------------------------------------ |
| -l   | 列出全部的信号名称                                     |
| -p   | 指定 kill 命令值打印相关进程的进程号，而不发送任何信号 |
| -s   | 指定要发送的信号                                       |

常用的信号

| 参数     | 说明                           |
| -------- | ------------------------------ |
| HUB(1)   | 挂起，终端掉线或用户退出而引发 |
| INT(2)   | 中断，通常是 ctrl+c            |
| QUIT(3)  | 退出，通常是 ctrl+\            |
| KILL(9)  | 立即结束进程的运行             |
| TERM(15) | 终止，通常在系统关机时触发     |
| TSTP(20) | 暂停进程的运行，通常是 ctrl+z  |

<h3 id="killall">4. killall，pkill 通过进程名终止进程 </h3>

语法: killall [option] [name]

| 参数 | 说明                 |
| ---- | -------------------- |
| -u   | 终止指定用户的进程   |
| -w   | 等待被终止的进程死去 |

语法: pkill [option] [name]

| 参数 | 说明               |
| ---- | ------------------ |
| -u   | 终止指定用户的进程 |
| -t   | 杀死指定中断的进程 |

<h3 id="top">5. top 实时显示系统中各个进程的资源占用状况 </h3>

语法: top [option]

<h3 id="nohup">6. nohup 用户退出系统进程继续工作 </h3>

语法: nohup [option]

