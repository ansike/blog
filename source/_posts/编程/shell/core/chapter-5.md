---
title: 信息显示及搜索文件命令
categories: 编程
tags: shell
date: 2022-07-07 00:02:02
---

<a href="#uname">1. uname 显示系统信息</a>
<a href="#hostname">2. hostname 显示或设置系统的主机名</a>
<a href="#stat">3. stat 显示文件或文件系统状态</a>
<a href="#du">4. du 统计磁盘的使用情况</a>
<a href="#date">5. date 显示与设置系统时间</a>
<a href="#echo">6. echo 显示一行文本</a>
<a href="#watch">7. watch 监视命令执行情况</a>
<a href="#which">8. which 显示命令的全路径</a>
<a href="#whereis">9. whereis 显示命令机器相关文件全路径</a>

<h3 id="uname">1. uname 显示系统信息</h3>

功能说明: 显示系统相关信息，如内核版本号，硬件架构

语法: uname [option]

<b>option</b>

| 参数   | 说明                    | 参数 | 说明           |
| ------ | ----------------------- | ---- | -------------- |
| -a     | 显示系统所有信息        | -v   | 内核版本       |
| **-m** | 硬件架构(x86_64)        | -p   | 主机处理器类型 |
| **-n** | 主机名称                | -o   | 操作系统名称   |
| **-r** | 内核发行版本号          | -i   | 硬件平台       |
| **-s** | 内核名称(Linux\|Darwin) |

<h3 id="hostname">2. hostname 显示或设置系统的主机名</h3>

功能说明: 显示或设置系统的主机名称

语法: hostname [option]

| 参数   | 说明                              |
| ------ | --------------------------------- |
| -a     | 设置了别名之后可以显示主机别名    |
| **-i** | 显示主机的 IP 地址，依赖 DNS 解析 |
| -I     | 显示所有 IP 地址                  |
| -s     | 短格式主机名                      |

<h3 id="stat">3. stat 显示文件或文件系统状态</h3>

语法: stat [option] [file]

| 参数 | 说明                                       |
| ---- | ------------------------------------------ |
| -f   | 显示文件所在分区的文件系统状态而非文件状态 |
| -c   | 使用指定输出格式替代默认值                 |
| -t   | 使用简洁格式输出                           |

```shell
# 获取文件的权限
stat -c %a /etc/hosts
# 644
```

<h3 id="du">4. du 统计磁盘的使用情况</h3>

语法: du [option] [file]

| 参数                   | 说明                                            |
| ---------------------- | ----------------------------------------------- |
| -a                     | 所有文件大小                                    |
| -h                     | 以人类可读方式查看                              |
| -s                     | 显示文件的总大小                                |
| --exclude=<目录或文件> | 忽略目录或文件                                  |
| -X,--exclude-from=FILE | 从文件读取需要略过的目录或文件                  |
| --max-depth=N          | 显示 N 级子目录的大小，当 N=0 时，和-s 参数一致 |

```shell
# 显示文件或目录的总大小
du -sh /etc/hosts
# 4.0K    /etc/hosts
```

<h3 id="date">5. date 显示与设置系统时间</h3>

语法: date [option] [+FORMAT]

**option**

| 参数          | 说明                         |
| ------------- | ---------------------------- |
| -d 时间字符串 | 显示指定字符串描述的时间     |
| -f 时间文件   | 从日期文件中按行读入时间描述 |
| -r 文件       | 显示制定文件的最后修改时间   |
| -s 日期时间   | 设置系统时间                 |
| -u            | 显示或设置 UTC 时间          |

**FORMAT 日期格式**

| 参数 | 说明                     |
| ---- | ------------------------ |
| %F   | 完整日期格式（%Y-%m-%d） |
| %T   | 完整时间格式（%H-%M-%S） |
| %Y   | 年                       |
| %m   | 月                       |
| %d   | 日                       |
| %H   | 小时                     |
| %M   | 分钟                     |
| %S   | 秒                       |

```shell
# 显示当前日期
date +%F
date +%Y-%m-%d
# 2022-07-06

# 显示当前时间
date +%T
date +%H:%M:%S
# 日期+时间
date "+%Y-%m-%d %H:%M:%S"
date "+%F %T"
# 2022-07-06 23:45:28

# 时间转换
date "+%F" -d "1day"
# 2022-07-07
date "+%F" -d "-1year"
# 2021-07-06
```

<h3 id="echo">6. echo 显示一行文本</h3>

语法: echo [option] [string]

**option**

| 参数 | 说明                             |
| ---- | -------------------------------- |
| -n   | 不要自动换行                     |
| -E   | 不解析转义字符（默认就是不解析） |
| -e   | 解析转义字符 \a,\b               |

```shell
# 默认不解析转义字符
echo "a\nb"
# a\nb
echo -e "a\nb"
# a
# b

# 彩色输出
echo -e "\033[30m这是黑字\033[0m"
echo -e "\033[31m这是红字\033[0m"
echo -e "\033[32m这是绿字\033[0m"
echo -e "\033[33m这是黄字\033[0m"
echo -e "\033[34m这是蓝字\033[0m"
```

<h3 id="watch">7. watch 监视命令执行情况</h3>

语法: watch [option] [command]

| 参数 | 说明                               |
| ---- | ---------------------------------- |
| -n   | 命令执行的间隔时间，默认为 2s      |
| -d   | 高亮显示命令执行结果的变动之处     |
| -t   | 关闭顶部的一个状态显示：时间，标题 |

<h3 id="which">8. which 显示命令的全路径</h3>

我们常用来查找命令的位置，查找的范围时 PATH 环境变量的路径

语法: which [option] [programname]

| 参数 | 说明                                                              |
| ---- | ----------------------------------------------------------------- |
| -a   | 默认在 PATH 中从前往后查找，查找到就停止匹配。-a 将输出所有匹配项 |

<h3 id="whereis">9. whereis 显示命令机器相关文件全路径</h3>

语法: whereis [option] [filename]

| 参数 | 说明              |
| ---- | ----------------- |
| -b   | 查找可执行文件    |
| -s   | 查找源代码文件    |
| -m   | 查找 man 帮助文件 |
