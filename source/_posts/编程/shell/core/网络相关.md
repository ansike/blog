---
title: 网络相关
categories: 编程
tags: shell
date: 2022-07-12 09:11:16
---

<a href="#IP">1. IP 地址是什么</a>
<a href="#netmask">2. netmask 子网掩码</a>
<a href="#gateway">3. gateway 网关</a>
<a href="#net">4. IP 地址，网络地址，主机号，主机地址转换过程</a>
<a href="#ipsegment">5. ip 段/数字 192.168.0.1/24 是什么</a>

<h3 id="IP">1. IP地址是什么</h3>

简单理解：IP 地址是网络上计算机的一个编号。格式由 32 位的二进制数组成，每 8 位分成一组，以十进制表示时常见位（a.b.c.d）

常见的由 A 类，B 类，C 类，特殊的 D，E 类分别为组播和科研保留

| 概念     | 特征                                    | 网络范围      | 默认掩码         |
| -------- | --------------------------------------- | ------------- | ---------------- |
| A 类地址 | 第 1 个 8 位中的第 1 位始终为 0         | 0-127.x.x.x   | 255.0.0.0/8      |
| B 类地址 | 第 1 个 8 位中的第 1、2 位始终为 10     | 128-191.x.x.x | 255.255.0.0/16   |
| C 类地址 | 第 1 个 8 位中的第 1、2、3 位始终为 110 | 192-y.x.x.x   | 255.255.255.0/24 |

IP 地址=网络地址+主机地址

<h3 id="netmask">2. netmask 子网掩码</h3>

子网掩码主要的作用是将 IP 地址划分为网络地址和主机地址

作用：

1. 判断两个 IP 是否在一个局域网内
2. 判断多少个网络号，多少个主机号

<h3 id="gateway">3. gateway 网关</h3>

是一个网络通向其他网络的 IP 地址
两个网络之前的通信必须通过网关进行转发
比如有 A 网络 192.168.1.0，B 网络 192.168.2.0，子网掩码都位 255.255.255.0. TCP/IP 协议会根据子网掩码判断 A,B 处在不同的网络中无法进行通信

<h3 id="net">4. IP地址，网络地址，主机号，主机地址转换过程</h3>

将 IP 地址和子网掩码转换成二进制，子网掩码从左往右全 1 的部分为网络地址，剩下的为主机地址

IP 地址和子网掩码与运算结果为网络地址（主机号全是 0）
运算结果中的主机地址都变为 1 即为广播地址

主机数量 = 2^(主机号的位数) - 2(网络号+广播地址)

eg: 一个主机的 IP 地址是 202.112.14.137, 掩码是 255.255.255.224，计算这个主机所在网络的网络地址和广播地址
202.112.14.137 => 11001010.01110000.00001110.10001001
255.255.255.224 => 11111111.11111111.11111111.11100000
11001010.01110000.00001110.10000000 => 202.112.14.128

**202.112.14.128**为网络号
根据子网掩码 255.255.255.224 看，网络号由 27 位，主机号占 5 位
将网络地址的所有主机位补 1，最后的结果就是广播地址 11001010.01110000.00001110.10011111 => **202.112.14.159**

该网络内主机的数量=2^5-2 = 30

<h3 id="ipsegment">5. ip/数字 192.168.0.1/24 是什么</h3>

前半部分标识了 IP 地址，后半部分标识了当前 IP 地址的网络地址有多少位。
如标题中的 24 说明，网络地址有 24 位，子网掩码位 11111111.11111111.11111111.00000000=>255.255.255.0
