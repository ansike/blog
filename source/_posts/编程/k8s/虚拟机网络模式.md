---
title: 虚拟机网络的模式
categories: 编程
tags:
  - network
date: 2022-07-23 22:00:18
---

虚拟机的三种网络模式解释

网络地址转换模式、桥接模式、仅主机模式

### 网络地址转换模式（NAT）

nat 为 network address transform 网络地址转换。一般在涉及公网和局域网要进行数据包交换时需要进行网络地址转换，路由器或有路由功能的主机解析数据报文，将网络地址进行转换，按着预期的目标地址进行转发。

该模式下会用到虚拟网卡，该网卡不直接和外网进行通信，只作为和主机通信的接口。主要主机能访问网络，且虚拟网卡可与主机进行联通，那虚拟机就可以通过主机访问网络（不需要配置 IP，子网掩码，网关等）

### 桥接模式（Bridged）

通过虚拟网桥将主机的网卡和虚拟交换机连接在一起，虚拟机的虚拟网卡都要连接在虚拟交换机上。所以桥接模式的虚拟机需要保证与主机在同一网段并且网关，DNS 和主网卡一致

和主机的级别一致

### 仅主机模式（Host-Only）

是比 NAT 更封闭的网络模式。
该模式下创建了一个基于宿主机的虚拟局域网，局域网内的虚拟机通过宿主机上的虚拟网卡进行联通。
此时宿主机可以访问虚拟机，虚拟机不能访问宿主机和外网。

```shell
# 此时可以在宿主机上进行ping
ping [虚拟机ip]
# 或者ssh登录
ssh root@[虚拟机ip]
```
