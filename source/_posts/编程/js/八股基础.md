---
title: js基础
categories: 编程
tags: js
date: 2022-04-17 16:24:45
---

### 闭包

概念：函数嵌套，内层函数引用外层函数变量。
例子：调用一个函数返回一个新的函数

### 原型链

概念：js 的对象中存在**proto**指向构造函数的 prototype，而构造函数 prototype 的**proto**会继续往上指，直到指向 Object.prototype.**proto** => null.
例子：const arr = new Array(); arr.**proto**===Array.prototype;

### 继承

js 中继承分主要有两部分组成：构造函数，原型链。其余各种继承都为这两种的排列组合。
构造函数继承即是执行构造函数，给 this 绑定属性。
原型链继承即是继承祖先类上的方法。
es6 中的 class 即使这两种继承的一个语法糖。

### 垃圾回收

js 的垃圾回收借鉴自 java，采用了自动垃圾回收机制。
因为 js 内存分为了新生代和老生代，自动垃圾回收的算法在不同的分代中采用的方式不一样。
新生代中主要使用了 scavenge 算法，
老生代使用了标记清楚+标记整理

### es6 语法

let const 块级作用域，定义可修改和常量变量（对比 var 都没有变量声明提前，都不可重复声明）
Set,Map
Proxy
Class
箭头函数
import/export

### js 中 commonjs，esm 区别

1. commonjs 输出为值的拷贝，esm 为值的引用
2. commonjs 同步加载，esm 异步加载
3. commonjs 运行时加载，esm 编译时输出接口

esm import 的模块不能重新赋值
esm 存在 export/import 提升

### react 和 vue diff 的异同

相同点：都是同级比较，跨级比较意义不是很大
不同点：

1. 对比节点时不同。相同节点，classname 不同，vue 会认为是不同的元素，会删除重建，react 则会修改节点属性
2. 对比顺序不同。vue 是从两端到中间，react 是从左到右。

### setState 是同步还是异步
