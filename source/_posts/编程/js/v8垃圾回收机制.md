---
title: v8 垃圾回收机制
categories: 编程
tags: js
---

### 回收策略简述

1. 回收策略主要基于分代式垃圾回收机制, 内存分为新生代和老生代
2. 新生代中的使用 scavenge 算法
3. 老生代使用标记清除(mark-sweep)+标记整理(mark+compact)

### 为什么要分代

对象的生存时间不同,将对象按不同的存活时间分代,然后分别对不同的分代使用更适合的算法可以更高效的垃圾回收.

### scavenge 算法的机制是什么

采用复制的方式实现垃圾回收. scavenge 将新生代内存分为两份,一个处于使用态,一个处于闲置态. 分配对象时先在使用态进行分配. 当开始垃圾回收时检查使用态中存活的对象, 将存活的对象复制到闲置态空间中, 复制完成之后两个存储的角色发生对换, 原空间内存被释放.

### 标记清除(mark-sweep), 标记整理(mark+compact)是什么

### 为什么同时需要标记清除,标记整理

### 新生代向老生代晋升的条件
